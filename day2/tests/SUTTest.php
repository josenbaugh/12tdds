<?php

namespace tdd;

use Generator;
use PHPUnit\Framework\TestCase;
use tdd\SUT;

require __DIR__ . '/../vendor/autoload.php';

class SUTTest extends TestCase
{
    /**
     * @test
     * @dataProvider provideTestCases
    */
    public function sweepReturnsExpected(array $input, array $expected): void
    {
        $sut = new SUT();

        self::assertSame($expected, $sut->sweep($input));
    }

    public function provideTestCases(): Generator
    {
        yield [
            [
                ['*','.','.','.'],
                ['.','.','*','.'],
                ['.','.','.','.'],
            ],
            [
                ['*',2,1,1],
                [1,2,'*',1],
                [0,1,1,1],
            ],
        ];

        yield [
            [
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','*'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','*','*','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','*','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','*','.','.','.','.','.','.','.','.','.','.','.','.','.','*','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
            ],
            [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,'*'],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,1,'*','*',2,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,1,3,'*',2,0,0,0,0,0,0,0,0,0],
                [0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0],
                [0,1,'*',1,0,0,0,0,0,0,0,0,0,0,0,1,'*',1,0,0],
                [0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0],
            ],
        ];

        yield [
            [
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','*','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','*','*','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','*','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','*','.','.','.','.','.','.','.','.','.','.','.','.','.','*','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','*','*','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','*','*','*','*','*','*','*','.','*','*','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','*','*','*','.','*','.','.','.','*','*','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','*','*','*','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
                ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
            ],
            [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,'*',1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,1,'*','*',2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,1,3,'*',2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,1,'*',1,0,0,0,0,0,0,0,0,0,0,0,1,'*',1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,3,3,4,'*','*',3,2,2,1,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,'*','*','*','*','*','*','*',4,'*','*',3,2,1,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,4,'*','*','*',7,'*',5,3,3,'*','*',1,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,3,'*','*','*',1,1,2,2,1,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,2,1,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
            ],
        ];
    }


}
